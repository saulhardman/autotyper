{"version":3,"file":null,"sources":["../src/upper-case-first-letter.js","../src/param-case-to-camel-case.js","../src/data-attributes-to-object.js","../src/random-number.js","../node_modules/component-emitter/index.js","../src/interval.js","../src/autotyper.js"],"sourcesContent":["export default function upperCaseFirstLetter(string) {\n  // e.g. text => Text\n  return `${string.substring(0, 1).toUpperCase()}${string.substring(1)}`;\n}\n","import upperCaseFirstLetter from './upper-case-first-letter';\n\nexport default function paramCaseToCamelCase(string) {\n  return string.split('-').map((s, i) => {\n    if (i === 0) {\n      return s;\n    }\n\n    return upperCaseFirstLetter(s);\n  }).join('');\n}\n","import paramCaseToCamelCase from './param-case-to-camel-case';\n\nfunction attributeName(name, namespace) {\n  if (namespace) {\n    return `data-${namespace}-${name}`;\n  }\n\n  return `data-${name}`;\n}\n\nexport default function dataAttributesToObject(element, names, namespace) {\n  return names.reduce((obj, name) => {\n    const value = element.getAttribute(attributeName(name, namespace));\n    const propertyName = paramCaseToCamelCase(name);\n\n    if (value === null) {\n      return obj;\n    }\n\n    return { ...obj, [propertyName]: JSON.parse(value) };\n  }, {});\n}\n","export default function randomNumber(min, max) {\n  // return a random number between min and max\n  return Math.floor(Math.random() * (max - (min + 1))) + min;\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","import randomNumber from './random-number';\n\nexport default function (interval) {\n  if (Array.isArray(interval)) {\n    if (interval.length === 2) {\n      const [min, max] = interval;\n\n      return randomNumber(min, max);\n    }\n  }\n\n  return interval;\n}\n","import Emitter from 'component-emitter';\n\nimport { name as packageName, version } from '../package.json';\nimport dataAttributesToObject from './data-attributes-to-object';\nimport interval from './interval';\n\nconst INIT_EVENT = 'init';\nconst START_EVENT = 'start';\nconst TYPE_EVENT = 'type';\nconst LOOP_EVENT = 'loop';\nconst STOP_EVENT = 'stop';\nconst DESTROY_EVENT = 'destroy';\n\nexport const EVENTS = [\n  INIT_EVENT,\n  START_EVENT,\n  TYPE_EVENT,\n  LOOP_EVENT,\n  STOP_EVENT,\n  DESTROY_EVENT,\n];\n\nconst ATTRIBUTE_OPTION_NAMES = [\n  'text',\n  'interval',\n  'auto-start',\n  'loop',\n  'loop-interval',\n  'empty-text',\n];\n\nexport const DEFAULT_OPTIONS = {\n  interval: [200, 300],\n  autoStart: true,\n  loop: false,\n  emptyText: '\\u00A0',\n};\n\nconst autotyper = {\n  version,\n  init(element, options = {}) {\n    const text = element.innerHTML;\n    const attributeOptions = Object.assign(\n      dataAttributesToObject(element, ATTRIBUTE_OPTION_NAMES, packageName),\n      JSON.parse(element.getAttribute(`data-${packageName}`))\n    );\n\n    this.element = element;\n    this.settings = Object.assign({ text }, DEFAULT_OPTIONS, attributeOptions, options);\n    this.originalText = text;\n    this.isRunning = false;\n\n    if (this.settings.autoStart === true) {\n      this.start();\n    } else {\n      const delay = parseInt(this.settings.autoStart, 10);\n\n      if (!isNaN(delay)) {\n        setTimeout(() => this.start(), delay);\n      }\n    }\n\n    this.emit(INIT_EVENT);\n\n    return this;\n  },\n  start() {\n    if (this.isRunning) {\n      return this;\n    }\n\n    clearTimeout(this.timeout);\n\n    this.isRunning = true;\n\n    this.setText(this.settings.emptyText);\n\n    this.letterTotal = this.settings.text.length;\n    this.letterCount = 0;\n\n    if (this.settings.loop) {\n      if (typeof this.settings.loop === 'number') {\n        this.loopTotal = this.settings.loop;\n      }\n\n      this.loopCount = 0;\n    }\n\n    this.tick(interval(this.settings.interval));\n\n    this.emit(START_EVENT);\n\n    return this;\n  },\n  setText(text) {\n    this.element.innerHTML = text;\n\n    return this;\n  },\n  type() {\n    this.tick(interval(this.settings.interval));\n\n    this.setText(this.settings.text.substring(0, this.letterCount += 1));\n\n    this.emit(TYPE_EVENT);\n\n    if (this.letterCount > this.letterTotal) {\n      if (this.settings.loop) {\n        return this.loop();\n      }\n\n      return this.stop();\n    }\n\n    return this;\n  },\n  stop() {\n    if (!this.isRunning) {\n      return this;\n    }\n\n    clearTimeout(this.timeout);\n\n    this.isRunning = false;\n\n    this.emit(STOP_EVENT);\n\n    return this;\n  },\n  reset() {\n    this.setText(this.originalText);\n\n    return this;\n  },\n  destroy() {\n    if (this.isRunning) {\n      this.stop();\n    }\n\n    this.emit(DESTROY_EVENT);\n\n    this.off();\n\n    this.element = null;\n  },\n  tick(duration) {\n    clearTimeout(this.timeout);\n\n    if (duration === 0) {\n      return this.type();\n    }\n\n    this.timeout = setTimeout(() => this.type(), duration);\n\n    return this;\n  },\n  loop() {\n    this.tick(interval(this.settings.loopInterval));\n\n    if (this.loopCount === this.loopTotal) {\n      return this.stop();\n    }\n\n    this.loopCount += 1;\n\n    this.letterTotal = this.settings.text.length;\n    this.letterCount = 0;\n\n    this.emit(LOOP_EVENT);\n\n    return this;\n  },\n};\n\nEmitter(autotyper);\n\nexport default autotyper;\n"],"names":["upperCaseFirstLetter","string","substring","toUpperCase","paramCaseToCamelCase","split","map","s","i","join","attributeName","name","namespace","dataAttributesToObject","element","names","reduce","obj","value","getAttribute","propertyName","JSON","parse","randomNumber","min","max","Math","floor","random","Emitter","mixin","key","prototype","module","on","addEventListener","event","fn","this","_callbacks","push","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","length","callbacks","cb","splice","emit","args","slice","call","len","listeners","hasListeners","interval","Array","isArray","INIT_EVENT","START_EVENT","TYPE_EVENT","LOOP_EVENT","STOP_EVENT","DESTROY_EVENT","ATTRIBUTE_OPTION_NAMES","DEFAULT_OPTIONS","autotyper","options","text","innerHTML","attributeOptions","Object","assign","packageName","settings","originalText","isRunning","autoStart","start","delay","parseInt","isNaN","_this","timeout","setText","emptyText","letterTotal","letterCount","loop","loopTotal","loopCount","tick","stop","duration","type","setTimeout","_this2","loopInterval"],"mappings":"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"}