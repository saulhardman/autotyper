{"version":3,"file":"index.min.js","sources":["../node_modules/component-emitter/index.js","../src/data-attributes-to-object.js","../src/param-case-to-camel-case.js","../src/upper-case-first-letter.js","../src/interval.js","../src/random-number.js","../src/autotyper.js"],"sourcesContent":["\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","import paramCaseToCamelCase from './param-case-to-camel-case';\n\nfunction attributeName(name, namespace) {\n  if (namespace) {\n    return `data-${namespace}-${name}`;\n  }\n\n  return `data-${name}`;\n}\n\nexport default function dataAttributesToObject(element, names, namespace) {\n  return names.reduce((obj, name) => {\n    const value = element.getAttribute(attributeName(name, namespace));\n    const propertyName = paramCaseToCamelCase(name);\n\n    if (value === null) {\n      return obj;\n    }\n\n    return { ...obj, [propertyName]: JSON.parse(value) };\n  }, {});\n}\n","import upperCaseFirstLetter from './upper-case-first-letter';\n\nexport default function paramCaseToCamelCase(string) {\n  return string\n    .split('-')\n    .map((s, i) => {\n      if (i === 0) {\n        return s;\n      }\n\n      return upperCaseFirstLetter(s);\n    })\n    .join('');\n}\n","export default function upperCaseFirstLetter(string) {\n  // e.g. text => Text\n  return `${string.substring(0, 1).toUpperCase()}${string.substring(1)}`;\n}\n","import randomNumber from './random-number';\n\nexport default function(interval) {\n  let value;\n\n  if (Array.isArray(interval) && interval.length === 2) {\n    const [min, max] = interval;\n\n    value = randomNumber(min, max);\n  } else if (typeof interval === 'function') {\n    value = interval();\n  } else {\n    value = parseInt(interval, 10);\n  }\n\n  return value;\n}\n","export default function randomNumber(min, max) {\n  // return a random number between min and max (inclusive of min and max)\n  const minimum = Math.min(min, max);\n  const maximum = Math.max(min, max);\n  const multiplier = maximum - minimum + 1;\n\n  return Math.floor(Math.random() * multiplier) + minimum;\n}\n","import Emitter from 'component-emitter';\n\nimport { name, version } from '../package.json';\n\nimport dataAttributesToObject from './data-attributes-to-object';\nimport interval from './interval';\n\nexport const NAME = name;\nexport const VERSION = version;\n\nconst INIT = 'init';\nconst START = 'start';\nconst TYPE = 'type';\nconst LOOP = 'loop';\nconst STOP = 'stop';\nconst DESTROY = 'destroy';\n\nexport const EVENTS = {\n  INIT,\n  START,\n  TYPE,\n  LOOP,\n  STOP,\n  DESTROY,\n};\n\nexport const DATA_ATTRIBUTES = [\n  'text',\n  'interval',\n  'auto-start',\n  'loop',\n  'loop-interval',\n  'empty',\n];\n\nexport const DEFAULTS = {\n  text: 'This is the default text.',\n  interval: [200, 300],\n  autoStart: true,\n  loop: false,\n  loopInterval: 0,\n  empty: '\\u00A0',\n};\n\nexport default Emitter({\n  init(...args) {\n    const [element = null, options = {}] = this.parseArguments(args);\n\n    if (element) {\n      const text = element.innerHTML.trim();\n      const dataOptions = {\n        ...dataAttributesToObject(element, DATA_ATTRIBUTES, NAME),\n        ...JSON.parse(element.getAttribute(`data-${NAME}-options`)),\n      };\n\n      this.element = element;\n\n      this.settings = {\n        ...DEFAULTS,\n        ...(text ? { text } : {}),\n        ...dataOptions,\n        ...options,\n      };\n\n      Object.defineProperty(this, 'text', {\n        set(value) {\n          if (this.element) {\n            this.element.innerHTML = value;\n          }\n        },\n\n        get() {\n          return this.text;\n        },\n      });\n    } else {\n      this.settings = { ...DEFAULTS, ...options };\n    }\n\n    this.isRunning = false;\n\n    this.reset();\n\n    this.emit(INIT);\n\n    if (this.settings.autoStart === true) {\n      this.start();\n    } else {\n      const delay = parseInt(this.settings.autoStart, 10);\n\n      if (!isNaN(delay)) {\n        setTimeout(() => this.start(), delay);\n      }\n    }\n\n    return this;\n  },\n\n  parseArguments(args) {\n    if (args.length === 0) {\n      return args;\n    }\n\n    const [firstArg] = args;\n\n    if (process.env.NODE_ENV === 'test') {\n      if (firstArg instanceof window.HTMLElement) {\n        return args;\n      }\n\n      return [null, firstArg];\n    }\n\n    if (firstArg instanceof HTMLElement) {\n      return args;\n    }\n\n    return [null, firstArg];\n  },\n\n  reset() {\n    this.letterTotal = this.settings.text.length;\n    this.letterCount = 0;\n\n    if (this.settings.loop) {\n      if (typeof this.settings.loop === 'number') {\n        this.loopTotal = this.settings.loop;\n      }\n\n      this.loopCount = 0;\n    }\n\n    return this;\n  },\n\n  start() {\n    if (this.isRunning) {\n      return this;\n    }\n\n    clearTimeout(this.timeout);\n\n    this.isRunning = true;\n\n    this.emit(START);\n\n    this.type();\n\n    return this;\n  },\n\n  type() {\n    let text;\n    let character;\n\n    this.tick(interval(this.settings.interval));\n\n    if (this.letterCount > this.letterTotal) {\n      if (this.settings.loop) {\n        return this.loop();\n      }\n\n      return this.stop();\n    }\n\n    if (this.letterCount === 0) {\n      if (this.settings.empty === false) {\n        this.letterCount += 1;\n\n        text = this.settings.text.substring(0, this.letterCount);\n\n        character = this.settings.text.substring(\n          this.letterCount - 1,\n          this.letterCount,\n        );\n      } else if (typeof this.settings.empty === 'string') {\n        text = this.settings.empty;\n\n        character = this.settings.empty;\n      }\n    } else {\n      text = this.settings.text.substring(0, this.letterCount);\n\n      character = this.settings.text.substring(\n        this.letterCount - 1,\n        this.letterCount,\n      );\n    }\n\n    this.text = text;\n\n    this.emit(TYPE, text, character);\n\n    this.letterCount += 1;\n\n    return this;\n  },\n\n  stop() {\n    if (!this.isRunning) {\n      return this;\n    }\n\n    clearTimeout(this.timeout);\n\n    this.isRunning = false;\n\n    this.emit(STOP);\n\n    return this;\n  },\n\n  destroy() {\n    if (this.isRunning) {\n      this.stop();\n    }\n\n    this.emit(DESTROY);\n\n    this.off();\n\n    this.element = null;\n  },\n\n  tick(duration) {\n    clearTimeout(this.timeout);\n\n    this.timeout = setTimeout(() => this.type(), duration);\n\n    return this;\n  },\n\n  loop() {\n    this.tick(interval(this.settings.loopInterval));\n\n    if (this.loopCount === this.loopTotal) {\n      return this.stop();\n    }\n\n    this.loopCount += 1;\n\n    this.letterCount = 0;\n\n    this.emit(LOOP, this.loopCount);\n\n    return this;\n  },\n\n  empty() {\n    clearTimeout(this.timeout);\n\n    if (typeof this.settings.empty === 'string') {\n      this.text = this.settings.empty;\n    } else {\n      this.text = DEFAULTS.empty;\n    }\n\n    this.letterCount = 0;\n\n    if (this.isRunning) {\n      this.tick(interval(this.settings.interval));\n    }\n\n    return this;\n  },\n\n  fill() {\n    clearTimeout(this.timeout);\n\n    this.text = this.settings.text;\n\n    this.letterCount = this.settings.text.length;\n\n    if (this.isRunning) {\n      this.tick(interval(this.settings.interval));\n    }\n\n    return this;\n  },\n});\n"],"names":["Emitter","obj","key","prototype","mixin","module","on","addEventListener","event","fn","_callbacks","this","push","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","length","cb","callbacks","i","splice","emit","args","Array","len","slice","listeners","hasListeners","dataAttributesToObject","element","names","namespace","reduce","name","value","getAttribute","attributeName","propertyName","split","map","s","string","substring","toUpperCase","upperCaseFirstLetter","join","JSON","parse","interval","isArray","min","max","minimum","Math","multiplier","floor","random","randomNumber","parseInt","NAME","EVENTS","INIT","START","TYPE","LOOP","STOP","DESTROY","DATA_ATTRIBUTES","DEFAULTS","text","autoStart","loop","loopInterval","empty","init","parseArguments","options","innerHTML","trim","dataOptions","settings","Object","defineProperty","set","get","isRunning","reset","start","delay","isNaN","setTimeout","_this","firstArg","HTMLElement","letterTotal","letterCount","loopTotal","loopCount","clearTimeout","timeout","type","character","tick","stop","destroy","duration","_this2","fill"],"mappings":"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"}