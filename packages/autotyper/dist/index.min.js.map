{"version":3,"file":"index.min.js","sources":["../src/upper-case-first-letter.js","../src/param-case-to-camel-case.js","../src/data-attributes-to-object.js","../src/random-number.js","../node_modules/component-emitter/index.js","../src/interval.js","../src/autotyper.js"],"sourcesContent":["export default function upperCaseFirstLetter(string) {\n  // e.g. text => Text\n  return `${string.substring(0, 1).toUpperCase()}${string.substring(1)}`;\n}\n","import upperCaseFirstLetter from './upper-case-first-letter';\n\nexport default function paramCaseToCamelCase(string) {\n  return string.split('-').map((s, i) => {\n    if (i === 0) {\n      return s;\n    }\n\n    return upperCaseFirstLetter(s);\n  }).join('');\n}\n","import paramCaseToCamelCase from './param-case-to-camel-case';\n\nfunction attributeName(name, namespace) {\n  if (namespace) {\n    return `data-${namespace}-${name}`;\n  }\n\n  return `data-${name}`;\n}\n\nexport default function dataAttributesToObject(element, names, namespace) {\n  return names.reduce((obj, name) => {\n    const value = element.getAttribute(attributeName(name, namespace));\n    const propertyName = paramCaseToCamelCase(name);\n\n    if (value === null) {\n      return obj;\n    }\n\n    return { ...obj, [propertyName]: JSON.parse(value) };\n  }, {});\n}\n","export default function randomNumber(min, max) {\n  // return a random number between min and max (inclusive of min and max)\n  const minimum = Math.min(min, max);\n  const maximum = Math.max(min, max);\n  const multiplier = (maximum - minimum) + 1;\n\n  return Math.floor((Math.random() * multiplier)) + minimum;\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","import randomNumber from './random-number';\n\nexport default function (interval) {\n  let value;\n\n  if (Array.isArray(interval) && interval.length === 2) {\n    const [min, max] = interval;\n\n    value = randomNumber(min, max);\n  } else if (typeof interval === 'function') {\n    value = interval();\n  } else {\n    value = parseInt(interval, 10);\n  }\n\n  return value;\n}\n","import Emitter from 'component-emitter';\n\nimport { name as NAME, version as VERSION } from '../package.json';\nimport dataAttributesToObject from './data-attributes-to-object';\nimport interval from './interval';\n\nconst INIT = 'init';\nconst START = 'start';\nconst TYPE = 'type';\nconst LOOP = 'loop';\nconst STOP = 'stop';\nconst DESTROY = 'destroy';\n\nconst EVENTS = {\n  INIT,\n  START,\n  TYPE,\n  LOOP,\n  STOP,\n  DESTROY,\n};\n\nconst DATA_ATTRIBUTES = [\n  'text',\n  'interval',\n  'auto-start',\n  'loop',\n  'loop-interval',\n  'empty-text',\n];\n\nconst DEFAULTS = {\n  text: 'This is the default text.',\n  interval: [200, 300],\n  autoStart: true,\n  loop: false,\n  loopInterval: 0,\n  emptyText: '\\u00A0',\n};\n\nconst autotyper = Object.assign(new Emitter(), {\n  init(...args) {\n    const [\n      element = null,\n      options = {},\n    ] = this.parseArguments(args);\n\n    if (element) {\n      const text = element.innerHTML.trim();\n      const dataOptions = Object.assign(\n        dataAttributesToObject(element, DATA_ATTRIBUTES, NAME),\n        JSON.parse(element.getAttribute(`data-${NAME}-options`)),\n      );\n\n      this.element = element;\n      this.settings = Object.assign(\n        {},\n        DEFAULTS,\n        (text && { text }),\n        dataOptions,\n        options,\n      );\n      this.originalText = text;\n    } else {\n      this.settings = Object.assign({}, DEFAULTS, options);\n      this.originalText = this.settings.text;\n    }\n\n    this.isRunning = false;\n\n    this.emit(INIT);\n\n    if (this.settings.autoStart === true) {\n      this.start();\n    } else {\n      const delay = parseInt(this.settings.autoStart, 10);\n\n      if (!isNaN(delay)) {\n        setTimeout(() => this.start(), delay);\n      }\n    }\n\n    return this;\n  },\n  parseArguments(args) {\n    if (args.length === 0) {\n      return args;\n    }\n\n    const [firstArg] = args;\n\n    if (process.env.NODE_ENV === 'test') {\n      if (firstArg instanceof window.HTMLElement) {\n        return args;\n      }\n\n      return [null, firstArg];\n    }\n\n    if (firstArg instanceof HTMLElement) {\n      return args;\n    }\n\n    return [null, firstArg];\n  },\n  start() {\n    if (this.isRunning) {\n      return this;\n    }\n\n    clearTimeout(this.timeout);\n\n    this.isRunning = true;\n\n    this.letterTotal = this.settings.text.length;\n    this.letterCount = 0;\n\n    if (this.settings.loop) {\n      if (typeof this.settings.loop === 'number') {\n        this.loopTotal = this.settings.loop;\n      }\n\n      this.loopCount = 0;\n    }\n\n    this.emit(START);\n\n    this.type();\n\n    return this;\n  },\n  setText(text) {\n    this.text = text;\n\n    if (this.element) {\n      this.element.innerHTML = text;\n    }\n\n    return this;\n  },\n  type() {\n    let text;\n\n    this.tick(interval(this.settings.interval));\n\n    if (this.letterCount > this.letterTotal) {\n      if (this.settings.loop) {\n        return this.loop();\n      }\n\n      return this.stop();\n    }\n\n    if (this.letterCount === 0) {\n      text = this.settings.emptyText;\n    } else {\n      text = this.settings.text.substring(0, this.letterCount);\n    }\n\n    this.setText(text);\n\n    this.emit(TYPE, text);\n\n    this.letterCount += 1;\n\n    return this;\n  },\n  stop() {\n    if (!this.isRunning) {\n      return this;\n    }\n\n    clearTimeout(this.timeout);\n\n    this.isRunning = false;\n\n    this.emit(STOP);\n\n    return this;\n  },\n  resetText() {\n    this.setText(this.originalText);\n\n    return this;\n  },\n  destroy() {\n    if (this.isRunning) {\n      this.stop();\n    }\n\n    this.emit(DESTROY);\n\n    this.off();\n\n    this.element = null;\n  },\n  tick(duration) {\n    clearTimeout(this.timeout);\n\n    this.timeout = setTimeout(() => this.type(), duration);\n\n    return this;\n  },\n  loop() {\n    this.tick(interval(this.settings.loopInterval));\n\n    if (this.loopCount === this.loopTotal) {\n      return this.stop();\n    }\n\n    this.loopCount += 1;\n\n    this.letterTotal = this.settings.text.length;\n    this.letterCount = 0;\n\n    this.emit(LOOP, this.loopCount);\n\n    return this;\n  },\n});\n\nexport {\n  autotyper as default,\n  DATA_ATTRIBUTES,\n  DEFAULTS,\n  EVENTS,\n  NAME,\n  VERSION,\n};\n"],"names":["upperCaseFirstLetter","string","substring","toUpperCase","paramCaseToCamelCase","split","map","s","i","join","attributeName","name","namespace","dataAttributesToObject","element","names","reduce","obj","value","getAttribute","propertyName","JSON","parse","randomNumber","min","max","minimum","Math","maximum","multiplier","floor","random","Emitter","mixin","key","prototype","on","addEventListener","event","fn","_callbacks","this","push","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","length","callbacks","cb","splice","emit","args","slice","call","len","listeners","hasListeners","interval","Array","isArray","parseInt","INIT","START","TYPE","LOOP","STOP","DESTROY","EVENTS","DATA_ATTRIBUTES","DEFAULTS","autotyper","babelHelpers.extends","parseArguments","options","text","innerHTML","trim","dataOptions","NAME","settings","originalText","isRunning","autoStart","start","delay","isNaN","_this","firstArg","HTMLElement","timeout","letterTotal","letterCount","loop","loopTotal","loopCount","type","tick","stop","emptyText","setText","duration","setTimeout","_this2","loopInterval"],"mappings":"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"}